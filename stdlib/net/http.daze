is http

struct HttpResponse {
  text :: String

  fn get_text() :: String {
    ret text
  }
}

fn get(url :: String) :: http:HttpResponse {
  `
    http::Request request{url};
    const auto response = request.send("GET");
    const auto text = std::string{response.body.begin(), response.body.end()};
  `;
  ret make HttpResponse(text)
}